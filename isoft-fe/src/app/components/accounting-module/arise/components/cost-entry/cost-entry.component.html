<p-table
    #dt1
    [value]="costOfGoods"
    dataKey="id"
    [rows]="10"
    [loading]="loading"
    [rowHover]="true"
    styleClass="p-datatable-gridlines sidebar-custom"
    [paginator]="true"
    [responsiveLayout]="'scroll'"
    [totalRecords]="totalRecords"
    [rowsPerPageOptions]="[5, 10, 25, 50]"
    [showCurrentPageReport]="true"
    [lazy]="true"
    (onLazyLoad)="getCostOfGoods($event)"
    scrollDirection="both"
    [scrollable]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [(first)]="first"
>
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Ngày</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Phiếu xuất</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Ngày xuất</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">TK Nợ</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Mã kho</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">TK Có</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Số lượng</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Giá vốn</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Tổng tiền vốn</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Kho</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">TK DThu</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">CT1</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">CT2</div>
            </th>
            <th style="width: 6.6%">
                <div class="flex align-items-center">Giá bán</div>
            </th>
            <th style="width: 7.6%">
                <div class="flex align-items-center">Doanh thu</div>
            </th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-costEntry>
        <tr>
            <td style="width: 6.6%">
                {{ costEntry.orginalBookDate | date: "dd-MM" }}
            </td>
            <td style="width: 6.6%">{{ costEntry.orginalVoucherNumber }}</td>
            <td style="width: 6.6%">
                {{ costEntry.orginalBookDate | date: "dd-MM-YYYY" }}
            </td>
            <td style="width: 6.6%">{{ costEntry.debitCode }}</td>
            <td style="width: 6.6%">{{ costEntry.creditWarehouse }}</td>
            <td style="width: 6.6%">{{ costEntry.creditCode }}</td>
            <td style="width: 6.6%">{{ costEntry.quantity | number }}</td>
            <td style="width: 6.6%">
                {{ costEntry.revenueUnitPrice | number }}
            </td>
            <td style="width: 6.6%">
                {{ costEntry.revenueAmmountPrice | number }}
            </td>
            <td style="width: 6.6%">{{ costEntry.creditWarehouse }}</td>
            <td style="width: 6.6%">{{ costEntry.revenueCode }}</td>
            <td style="width: 6.6%">{{ costEntry.creditDetailCodeFirst }}</td>
            <td style="width: 6.6%">{{ costEntry.creditDetailCodeSecond }}</td>
            <td style="width: 6.6%">{{ costEntry.unitPrice | number }}</td>
            <td style="width: 7.6%">{{ costEntry.amount | number }}</td>
        </tr></ng-template
    >
    <ng-template pTemplate="emptymessage">
        <tr>
            <td class="w-full pt-4 pb-4">{{ "info.no_data" | translate }}</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="loadingbody">
        <tr>
            <td class="w-full pt-4 pb-4">{{ "info.loading" | translate }}</td>
        </tr>
    </ng-template>
</p-table>

<div class="flex justify-content-end gap-8 mt-4">
    <button
        type="button"
        pButton
        icon="pi pi-times"
        [label]="'button.back' | translate"
        (click)="onCancel.emit({})"
    ></button>
    <button
        class="p-button-info"
        type="button"
        pButton
        icon="pi pi-check"
        [label]="'button.save' | translate"
        (click)="onSave()"
    ></button>
</div>
